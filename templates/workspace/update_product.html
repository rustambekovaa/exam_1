{% extends 'workspace/base.html' %}

{% block content %}

<div class="max-w-lg mx-auto bg-white p-8 rounded-md shadow-md border-4 border-4 border-black">
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="mb-5">
            {{ form.as_p }}
            <button type="submit" class="bg-slate-800 hover:bg-slate-900 text-white font-bold py-2 px-4 rounded w-full">Save</button>
        </div>
    </form>
</div> 

<!-- 
<div class="max-w-lg mx-auto bg-white p-8 rounded-md shadow-md border-4 border-4 border-black"> 
    <h2 class="mb-5 text-xl text-gray-800 font-bold font-mono flex place-content-center ">Update product</h2>
    <form action="{% url 'update_product' id=product.id %}" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="mb-4">
            <input name="title" placeholder="Заголовок" type="text" value="{{ product.title }}" class="border border-current rounded-none p-2 form-input border-gray-300 block w-full rounded-md focus:ring-indigo-500 focus:border-indigo-500"  required>
        </div>
        <div class="mb-4">
            <input name="price" placeholder="Цена" type="number" value="{{ product.price }}" class="border border-current rounded-none p-2  form-input border-gray-300 block w-full rounded-md focus:ring-indigo-500 focus:border-indigo-500" required>
        </div>

        <div class="mb-4">
            {% if product.image %}
            <div class="mb-3">Current url image: <a target="_blank" href="{{ product.image.url }}">{{ product.image.url }}</a></div>
            {% endif %}
            <input name="image" placeholder="Изображение" type="file" class="form-control">
        </div>

        <div class="mb-4">
            <textarea name="content" placeholder="Контент" class=" border border-current rounded-none p-2 form-textarea border-gray-300 block w-full rounded-md focus:ring-indigo-500 focus:border-indigo-500" rows="5" required>{{ product.content }}</textarea>
        </div>
        <div class="mb-4">
            <input type="checkbox" id="checkbox_is_published" {% if product.is_published %}checked{% endif %}  name="is_published" class="form-checkbox h-5 w-5 text-indigo-600"><label for="checkbox_is_published" class="ml-2 text-gray-700" required>Is Published</label>
        </div>
        <div class="mb-4">
            <select name="category" class="form-select border-gray-300 block w-full rounded-md focus:ring-indigo-500 focus:border-indigo-500 "required>
                <option selected disabled>Select category</option>
                {% for category in categories %}
                    <option value="{{ category.id }}" {% if category == product.category %}selected{% endif %}>{{ category.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-4">
            <select name="tags" multiple class=" form-select border-gray-300 block w-full rounded-md focus:ring-indigo-500 focus:border-indigo-500 required"required>
                <option selected disabled>Select tags</option>
                {% for tag in tags %}
                    <option value="{{ tag.id }}" {% if tag in product.tags.all %}selected{% endif %}>{{ tag.name }}</option>
                {% endfor %}
            </select>
        </div>

        <div>
            <button type="submit" class="bg-slate-800 hover:bg-slate-900 text-white font-bold py-2 px-4 rounded w-full">Save</button>
        </div>
    </form>
</div> -->

{% endblock content %}
